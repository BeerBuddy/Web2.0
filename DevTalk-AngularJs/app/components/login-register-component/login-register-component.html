<!--
	Diese Komponente sieht unter Firefox nicht gut aus, funktioniert aber ... kack firefox!
	Getestet: Chrome (+Android), Edge, Firefox
-->
<link rel="import" href="/app/bower_components/polymer/polymer.html"/>

<dom-module id="login-register-component">
    <template>
        <link rel="stylesheet" href="login-register-component.css"/>
        <div class="container">
            <div id="card" class="card">
                <!-- REGISTER -->
                <section class='signup'>
                    <!-- using one way databinding! -->
                    <!-- Old way to post the form to the server. With angular the controller should do the work! -->
                    <!-- <form action="[[register_action]]" enctype="application/x-www-form-urlencoded" method="post"> -->
                    <form>
                        <h2 id="title_register">Register now!</h2>
                        <p>
                            <input type='text' id="account_username" name="account_username" placeholder="Username"
                                   ng-model="user.username">
                        </p>
                        <p>
                            <input type='email' id="account_email" name="account_email" placeholder="E-mail"
                                   ng-model="user.email">
                        </p>
                        <p>
                            <input type='password' id="account_password" name="account_password" placeholder="Password"
                                   ng-model="user.password">
                        </p>
                        <p>
                            <input type='password' id="account_password_confirmation"
                                   name="account_password_confirmation" placeholder="Confirm password"
                                   ng-model="user.password_confirmation">
                        </p>
                        <p>
                            <input type='checkbox' id="agb" name="agb" ng-model="user.agb">AGBs</input>
                        </p>
                        <p>
                            <button id="register_submit" class='toggle' ng-click="submit()">Register</button>
                        </p>
                        <button id="register_login" class='toggle' on-click="flip">Damit! I am already registered!
                        </button>
                    </form>
                </section>
                <!-- LOGIN -->
                <section class='signin'>
                    <!-- using one way databinding! -->
                    <!-- Old way to post the form to the server. With angular the controller should do the work! -->
                    <!-- <form action="[[login_action]]" enctype="application/x-www-form-urlencoded" method="post"> -->
                    <form>
                        <h2 id="title_login">Login</h2>
                        <p>
                            <input type='email' id="user_email" name="user_email" placeholder="E-mail"
                                   ng-model="user.email">
                        </p>
                        <p>
                            <input type='password' id="user_password" name="user_password" placeholder="Password"
                                   ng-model="user.password">
                        </p>
                        <p>
                            <button id="login_submit" class='toggle' ng-click="submit()">Submit</button>
                        </p>
                        <button id="login_register" class='toggle' on-click="flip">I want an account NOW!</button>
                    </form>
                </section>
            </div>
        </div>
    </template>
    <script>
        Polymer({
            is: "login-register-component",
            properties: {
                login_action: {
                    type: String,
                    value: "/login"
                },
                register_action: {
                    type: String,
                    value: "/register"
                }
            },
            flip: function (event) {
                event.preventDefault();
                document.querySelector('.card');
                this.$.card.classList.toggle('flipped');
            }
        });
    </script>
</dom-module>